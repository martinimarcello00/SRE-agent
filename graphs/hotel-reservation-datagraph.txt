// Create all the service nodes
MERGE (:Service {name: 'frontend'});
MERGE (:Service {name: 'user'});
MERGE (:Service {name: 'recommendation'});
MERGE (:Service {name: 'profile'});
MERGE (:Service {name: 'search'});
MERGE (:Service {name: 'reservation'});
MERGE (:Service {name: 'geo'});
MERGE (:Service {name: 'rate'});

// Create the relationships (edges) between them
MATCH (frontend:Service {name: 'frontend'}), (user:Service {name: 'user'})
MERGE (frontend)-[:CALLS]->(user);

MATCH (frontend:Service {name: 'frontend'}), (rec:Service {name: 'recommendation'})
MERGE (frontend)-[:CALLS]->(rec);

MATCH (frontend:Service {name: 'frontend'}), (profile:Service {name: 'profile'})
MERGE (frontend)-[:CALLS]->(profile);

MATCH (frontend:Service {name: 'frontend'}), (search:Service {name: 'search'})
MERGE (frontend)-[:CALLS]->(search);

MATCH (frontend:Service {name: 'frontend'}), (res:Service {name: 'reservation'})
MERGE (frontend)-[:CALLS]->(res);

MATCH (search:Service {name: 'search'}), (geo:Service {name: 'geo'})
MERGE (search)-[:CALLS]->(geo);

MATCH (search:Service {name: 'search'}), (rate:Service {name: 'rate'})
MERGE (search)-[:CALLS]->(rate);